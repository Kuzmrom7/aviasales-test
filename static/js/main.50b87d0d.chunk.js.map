{"version":3,"sources":["logo.svg","components/Filters/index.tsx","components/Tabs/index.tsx","utils/index.ts","components/Tickets/index.tsx","components/Tickets/helpers.ts","redux/constants.ts","redux/api.ts","redux/actions.ts","redux/reducers/tickets.ts","redux/reducers/filters.ts","redux/reducers/tabs.ts","redux/state.ts","App.tsx","index.tsx"],"names":["module","exports","Filters","props","className","filters","data","map","item","key","id","onClick","e","handleClick","text","type","checked","isChecked","onChange","FilterContainer","React","memo","stopPropagation","Tabs","tabs","isActive","TabsContainer","sortByPrice","a","b","price","sortByTime","timeA","timeB","segments","forEach","duration","Tickets","index","toLocaleString","style","currency","src","carrier","width","height","alt","origin","destination","date","second","result","add","Date","seconds","format","getTimeOnFly","hours","minutes","getBoardingTime","number","declOfNum","stops","length","join","TicketsContainer","activeTabId","tickets","isLoaded","isError","filteredTickets","appliedFilters","activeValues","value","filter","count","sort","includes","getFilteredTickets","activeIndex","findIndex","sortedTickets","fetchData","axios","get","response","searchId","responseTickets","slice","Error","actions","setFilters","dispatch","state","updatedFilters","f","constants","payload","setTabs","updatedTabs","fetchTickets","reducer","action","initTickets","initFilters","initTabs","App","useReducer","ticketsReducer","dispatchTickets","tabsReducer","dispatchTabs","filtersReducer","dispatchFilters","useEffect","logo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.50b87d0d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.0c089234.svg\";","import React from \"react\";\nimport { IProps } from \"./types\";\n\nimport \"./style.scss\";\nimport \"./checkbox.scss\";\n\nconst Filters: React.FC<IProps> = props => (\n  <div className=\"filters\">\n    <div className=\"filter-item\">\n      <div className=\"filter-item__title\">Количество пересадок</div>\n      <div className=\"filter-item__list\">\n        {props.filters.data.map(item => (\n          <div\n            key={item.id}\n            className=\"filter-item__element\"\n            onClick={e => props.handleClick(e, item)}\n          >\n            <div className=\"filter-item__value\">\n              <label className=\"checkbox-container\">\n                {item.text}\n                <input\n                  type=\"checkbox\"\n                  checked={item.isChecked}\n                  onChange={e => props.handleClick(e, item)}\n                />\n                <span className=\"checkmark\"></span>\n              </label>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  </div>\n);\n\nconst FilterContainer = React.memo((props: IProps) => {\n  const handleChange = (e: any, item: any) => {\n    e.stopPropagation();\n    props.handleClick(item);\n  };\n  return <Filters {...props} handleClick={handleChange} />;\n});\n\nexport default FilterContainer;\n","import React from \"react\";\nimport { IProps } from \"./types\";\n\nimport \"./style.scss\";\n\nconst Tabs: React.FC<IProps> = props => (\n  <ul className=\"tabs\">\n    {props.tabs.data.map(item => (\n      <li\n        key={item.id}\n        className={`tab ${item.isActive ? \"tab__is-active\" : \"\"}`}\n        onClick={() => props.handleClick(item)}\n      >\n        {item.text}\n      </li>\n    ))}\n  </ul>\n);\n\nconst TabsContainer = React.memo((props: IProps) => {\n  return <Tabs {...props} />;\n});\n\nexport default TabsContainer;\n","import add from \"date-fns/add\";\nimport format from \"date-fns/format\";\nimport { ITicket } from \"../definitions/interfaces\";\n\nfunction getBoardingTime(seconds: number) {\n  const hours = (seconds / 3600) ^ 0;\n  const minutes = ((seconds - hours * 3600) / 60) ^ 0;\n\n  const str = `${\n    hours === 0 ? \"\" : hours < 10 ? \"0\" + hours + \"ч\" : hours + \"ч\"\n  } ${\n    minutes === 0 ? \"\" : minutes < 10 ? \"0\" + minutes + \" м\" : minutes + \" м\"\n  }`;\n\n  return str;\n}\n\nfunction getTimeOnFly(date: string, second: number) {\n  var result = add(new Date(date), {\n    seconds: second\n  });\n\n  return `${format(new Date(date), \"HH:mm\")} : ${format(\n    new Date(result),\n    \"HH:mm\"\n  )}`;\n}\n\nfunction declOfNum(number: number) {\n  switch (number) {\n    case 0:\n      return \"Прямой\";\n    case 1:\n      return \"1 пересадка\";\n    case 2:\n      return \"2 пересадки\";\n    case 3:\n      return \"3 пересадки\";\n    case 4:\n      return \"4 пересадки\";\n\n    default:\n      return number;\n  }\n}\n\nfunction sortByPrice(a: ITicket, b: ITicket) {\n  const priceA = a.price;\n  const priceB = b.price;\n\n  if (priceA > priceB) {\n    return 1;\n  }\n  return -1;\n}\n\nfunction sortByTime(a: ITicket, b: ITicket) {\n  let timeA = 0;\n  let timeB = 0;\n\n  a.segments.forEach(e => {\n    timeA = timeA + e.duration;\n  });\n\n  b.segments.forEach(e => {\n    timeB = timeB + e.duration;\n  });\n\n  if (timeA > timeB) {\n    return 1;\n  }\n  return -1;\n}\n\nfunction getPrettyPrice(price: number) {\n  return `${price.toLocaleString(\"ru-RU\", {\n    style: \"decimal\",\n    currency: \"RUB\"\n  })} Р`;\n}\nexport {\n  getBoardingTime,\n  getTimeOnFly,\n  declOfNum,\n  sortByPrice,\n  sortByTime,\n  getPrettyPrice\n};\n","import React, { ReactElement } from \"react\";\nimport {\n  getBoardingTime,\n  getTimeOnFly,\n  declOfNum,\n  getPrettyPrice\n} from \"../../utils\";\nimport { IProps, IPropsComponent } from \"./types\";\nimport { getFilteredTickets, getSortedTickets } from \"./helpers\";\n\nimport \"./style.scss\";\n\nconst Tickets: React.FC<IPropsComponent> = ({ data }): ReactElement => {\n  return (\n    <div className=\"Tickets\">\n      {data.map((item, index) => (\n        <div className=\"ticket\" key={index}>\n          <div className=\"ticket__top\">\n            <div className=\"ticket__price\">{getPrettyPrice(item.price)}</div>\n            <div className=\"ticket__logo\">\n              <img\n                className=\"ticket-carrier__img\"\n                src={`//pics.avs.io/99/36/${item.carrier}.png`}\n                width=\"99\"\n                height=\"36\"\n                alt=\"IrAero\"\n              ></img>\n            </div>\n          </div>\n          <div className=\"ticket__bottom\">\n            {item.segments.map((item, index) => (\n              <div className=\"ticket-info\" key={index}>\n                <div className=\"ticket-endpoint\">\n                  <div className=\"ticket-endpoint__title\">\n                    {item.origin} - {item.destination}\n                  </div>\n                  <div> {getTimeOnFly(item.date, item.duration)}</div>\n                </div>\n                <div className=\"ticket-endpoint\">\n                  <div className=\"ticket-endpoint__title\">В пути</div>\n                  <div>{getBoardingTime(item.duration)}</div>\n                </div>\n                <div className=\"ticket-endpoint\">\n                  <div className=\"ticket-endpoint__title\">\n                    {declOfNum(item.stops.length)}\n                  </div>\n                  <div> {item.stops.join(\", \")}</div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst TicketsContainer = React.memo((props: IProps) => {\n  const { data, isLoaded, isError } = props.tickets;\n\n  const filters = props.filters.data;\n  const tabs = props.tabs.data;\n\n  const appliedFilters = filters.filter(e => e.isChecked);\n  const filteredTickets = getFilteredTickets(appliedFilters, data || []);\n\n  const activeIndex = tabs.findIndex(e => e.isActive === true);\n  const sortedTickets = getSortedTickets(tabs[activeIndex].id, filteredTickets);\n\n  if (isError)\n    return <div className=\"ticker-error\"> Error , please reload page</div>;\n  if (!isLoaded) return <div>....Loading data </div>;\n\n  return <Tickets data={sortedTickets} />;\n});\n\nexport default TicketsContainer;\n","import { IFilter, ITicket } from \"../../definitions/interfaces\";\n\nimport \"./style.scss\";\nimport { sortByPrice, sortByTime } from \"../../utils\";\n\nfunction getFilteredTickets(appliedFilters: IFilter[], tickets: ITicket[]) {\n  const activeValues = appliedFilters.map(e => e.value);\n\n  if (activeValues.length > 0) {\n    const filteredTickets = tickets.filter((e: ITicket) => {\n      const stops = e.segments\n        .map(e => e.stops)\n        .sort((a, b) => {\n          if (a.length < b.length) {\n            return 1;\n          }\n          return -1;\n        });\n\n      const count = stops[0].length;\n\n      if (activeValues.includes(count)) {\n        return true;\n      }\n      return false;\n    });\n    return filteredTickets;\n  }\n  return tickets;\n}\n\nfunction getSortedTickets(activeTabId: number, tickets: ITicket[]) {\n  if (activeTabId === 1) {\n    const sortedTickets = tickets.sort(sortByTime);\n    return sortedTickets;\n  }\n\n  if (activeTabId === 2) {\n    const sortedTickets = tickets.sort(sortByPrice);\n    return sortedTickets;\n  }\n\n  return tickets;\n}\n\nexport { getFilteredTickets, getSortedTickets };\n","export default {\n  FETCH_DATA: \"FETCH_DATA\",\n  SET_FILTERS: \"SET_FILTERS\",\n  SET_TABS: \"SET_TABS\",\n  SET_TICKETS: \"SET_TICKETS\",\n  SET_TICKETS_ERROR: \"SET_TICKETS_ERROR\"\n};\n","import axios from \"axios\";\n\nasync function fetchData() {\n  try {\n    const response = await axios.get(\n      \"https://front-test.beta.aviasales.ru/search\"\n    );\n    const searchId = await response.data.searchId;\n\n    const responseTickets = await axios.get(\n      `https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`\n    );\n    return responseTickets.data.tickets.slice(0, 20);\n  } catch (e) {\n    throw new Error(\"\");\n  }\n}\n\nexport { fetchData };\n","import constants from \"./constants\";\nimport { IFilter, IStateFilters } from \"../definitions/interfaces\";\nimport { fetchData } from \"./api\";\nimport { IStateTabs } from \"../definitions/interfaces\";\n\nconst actions = {\n  setFilters: (dispatch: any, state: IStateFilters, item: any) => {\n    const f = state.data;\n    let updatedFilters: IFilter[];\n\n    if (item.id === 1) {\n      let value = !item.isChecked;\n      updatedFilters = f.map(e => {\n        e.isChecked = value;\n        return e;\n      });\n    } else {\n      updatedFilters = f.map(e => {\n        if (e.id === 1) {\n          e.isChecked = false;\n        }\n        if (item.id === e.id) {\n          e.isChecked = !e.isChecked;\n        }\n        return e;\n      });\n    }\n    dispatch({\n      type: constants.SET_FILTERS,\n      payload: updatedFilters\n    });\n  },\n  setTabs: (dispatch: any, state: IStateTabs, item: any) => {\n    const t = state.data;\n    const updatedTabs = t.map(e => {\n      if (item.id === e.id) {\n        e.isActive = true;\n        return e;\n      }\n      e.isActive = false;\n      return e;\n    });\n    dispatch({ type: constants.SET_TABS, payload: updatedTabs });\n  },\n  fetchTickets: async (dispatch: any) => {\n    try {\n      const tickets = await fetchData();\n\n      await dispatch({\n        type: constants.SET_TICKETS,\n        payload: tickets\n      });\n    } catch (error) {\n      await dispatch({\n        type: constants.SET_TICKETS_ERROR\n      });\n    }\n  }\n};\n\nexport default actions;\n","import constants from \"../constants\";\nimport { IStateTickets } from \"../../definitions/interfaces\";\n\nfunction reducer(state: IStateTickets, action: any) {\n  switch (action.type) {\n    case constants.SET_TICKETS:\n      return {\n        ...state,\n        isLoaded: true,\n        data: action.payload\n      };\n\n    case constants.SET_TICKETS_ERROR:\n      return {\n        ...state,\n        isError: true,\n        isLoaded: false,\n        data: []\n      };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default reducer;\n","import constants from \"../constants\";\nimport { IStateFilters } from \"../../definitions/interfaces\";\n\nfunction reducer(state: IStateFilters, action: any) {\n  switch (action.type) {\n    case constants.SET_FILTERS:\n      return { ...state, data: action.payload };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default reducer;\n","import constants from \"../constants\";\nimport { IStateTabs } from \"../../definitions/interfaces\";\n\nfunction reducer(state: IStateTabs, action: any) {\n  switch (action.type) {\n    case constants.SET_TABS:\n      return { data: action.payload };\n\n    default:\n      throw new Error();\n  }\n}\n\nexport default reducer;\n","import {\n  IStateTabs,\n  IStateFilters,\n  IStateTickets\n} from \"../definitions/interfaces\";\n\nconst initTickets: IStateTickets = {\n  isLoaded: false,\n  isError: false\n};\n\nconst initFilters: IStateFilters = {\n  data: [\n    { id: 1, text: \"Все\", isChecked: false, value: -1 },\n    { id: 2, text: \"Без пересадок\", isChecked: false, value: 0 },\n    { id: 3, text: \"1 пересадка\", isChecked: false, value: 1 },\n    { id: 4, text: \"2 пересадки\", isChecked: false, value: 2 },\n    { id: 5, text: \"3 пересадки\", isChecked: false, value: 3 }\n  ]\n};\n\nconst initTabs: IStateTabs = {\n  data: [\n    {\n      id: 1,\n      text: \"Самый быстрый\",\n      isActive: true\n    },\n    {\n      id: 2,\n      text: \"Самый дешевый\",\n      isActive: false\n    }\n  ]\n};\n\nexport { initTickets, initFilters, initTabs };\n","import React, { useReducer, Reducer, useEffect } from \"react\";\nimport Filters from \"./components/Filters\";\nimport Tabs from \"./components/Tabs\";\nimport Tickets from \"./components/Tickets\";\nimport { actions } from \"./redux\";\nimport {\n  IStateTickets,\n  IStateTabs,\n  IStateFilters\n} from \"./definitions/interfaces\";\nimport { ActionTickets, ActionTabs, ActionFilters } from \"./definitions/types\";\nimport { ticketsReducer, tabsReducer, filtersReducer } from \"./redux/reducers\";\nimport { initTabs, initFilters, initTickets } from \"./redux/state\";\n\nimport logo from \"./logo.svg\";\nimport \"./app.scss\";\n\nconst App = () => {\n  const [tickets, dispatchTickets] = useReducer<\n    Reducer<IStateTickets, ActionTickets>\n  >(ticketsReducer, initTickets);\n  const [tabs, dispatchTabs] = useReducer<Reducer<IStateTabs, ActionTabs>>(\n    tabsReducer,\n    initTabs\n  );\n  const [filters, dispatchFilters] = useReducer<\n    Reducer<IStateFilters, ActionFilters>\n  >(filtersReducer, initFilters);\n\n  useEffect(() => {\n    actions.fetchTickets(dispatchTickets);\n  }, []);\n\n  const handleClickFilter = (item: any) => {\n    actions.setFilters(dispatchFilters, filters, item);\n  };\n\n  const handleClickTab = (item: any) => {\n    actions.setTabs(dispatchTabs, tabs, item);\n  };\n\n  return (\n    <div className=\"wrap\">\n      <div className=\"header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n      </div>\n\n      <div className=\"container\">\n        <Filters handleClick={handleClickFilter} filters={filters} />\n        <div className=\"results\">\n          <div className=\"sort\">\n            <Tabs handleClick={handleClickTab} tabs={tabs} />\n            <Tickets tickets={tickets} filters={filters} tabs={tabs} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}